:root{
  --ink:#1e2d2b; --wash:#e8e3d9; --qing:#2a4e4a; --mist:#a9bdb8;
  --coal:#3a2e29; --paper:#f6f3ec;
}
*{box-sizing:border-box}
body{margin:0;background:var(--paper);color:var(--ink);font:16px/1.5 ui-sans-serif,system-ui}
.app{min-height:100svh;display:grid;grid-template-rows:auto 1fr}
.topbar{display:grid;grid-template-columns:auto 1fr auto;gap:.5rem;align-items:center;
  padding:.5rem .75rem;background:linear-gradient(180deg,#294844,#233e3a);color:#fff;position:sticky;top:0;z-index:5}
.brand{font-weight:700;letter-spacing:.1em}
.tabs{display:flex;gap:.25rem;overflow:auto}
.tab{border:0;background:#325d57;color:#e9f4f2;padding:.4rem .6rem;border-radius:.6rem;white-space:nowrap}
.tab.is-active{background:#e9f4f2;color:#22413d}
.menu-btn{background:#e9f4f2;color:#22413d;border:0;border-radius:.5rem;padding:.35rem .6rem}

.scene{position:relative;overflow:hidden;display:grid;place-items:center;padding:1rem}
.card{background:rgba(255,255,255,.86);backdrop-filter:blur(3px);border:1px solid #00000010;
  border-radius:16px;box-shadow:0 10px 30px #00000012;padding:1rem;max-width:900px;width:100%}
.h{display:flex;align-items:center;gap:.5rem}
.h .badge{background:var(--qing);color:#fff;padding:.15rem .5rem;border-radius:.4rem;font-size:.75rem}

.bg{position:absolute;inset:0;z-index:-1;filter:contrast(95%) saturate(90%)}
.bg.hearth{background:linear-gradient(180deg,#efe8dc,#f9f6ef);}
.bg.veranda{background:linear-gradient(180deg,#dae8e5,#eef3f1);}
.bg.study{background:linear-gradient(180deg,#efe9dd,#f7f3ea);}
.bg.backhill{background:linear-gradient(180deg,#cfe2d9,#eaf2ee);}
.bg.river{background:linear-gradient(180deg,#d9ecef,#f5fbfd);}

.drawer{position:fixed;right:-320px;top:0;height:100%;width:300px;background:#fffbf5;border-left:1px solid #00000010;padding:1rem;transition:.25s;
  box-shadow:-8px 0 20px #00000010;z-index:10}
.drawer.open{right:0}
.close{position:absolute;right:.5rem;top:.5rem;border:0;background:#00000010;border-radius:.4rem;padding:.2rem .4rem}
.chars{list-style:none;margin:.4rem 0 1rem;padding:0}
.chars li{padding:.35rem .5rem;border-radius:.4rem;cursor:pointer}
.chars li:hover{background:#00000006}
.tip{color:#666;font-size:.85rem}

.modal{position:fixed;inset:0;background:#00000050;display:grid;place-items:center;z-index:20}
.modal.hidden{display:none}
.modal-card{background:#fff;max-width:min(720px,90vw);border-radius:16px;padding:1rem 1.1rem;box-shadow:0 20px 60px #0000003a}
.modal-close{float:right;border:0;background:#00000012;border-radius:.4rem;padding:.25rem .45rem}

.pill{display:flex;gap:.5rem;flex-wrap:wrap}
.pill button{border:1px solid #00000015;background:#fff;border-radius:999px;padding:.3rem .7rem}

.breath{display:grid;place-items:center;gap:.8rem}
.breath .circle{width:180px;height:180px;border-radius:50%;background:radial-gradient(circle at 50% 40%,#b6d2c9,#87b4a8);
  animation:breath 8s ease-in-out infinite}
@keyframes breath{
  0%,100%{transform:scale(0.78);filter:blur(0px)}
  50%{transform:scale(1);filter:blur(0.4px)}
}
